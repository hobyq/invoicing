<template>  <div>    <v-data-table        :headers="headers"        :items="countries"        class="elevation-1"        :loading="isLoading"    >      <template v-slot:top>        <v-toolbar flat>          <v-toolbar-title>Countries List</v-toolbar-title>          <v-divider class="mx-4" inset vertical></v-divider>          <v-spacer></v-spacer>          <v-dialog v-model="dialog" max-width="500px">            <template v-slot:activator="{ on, attrs }">              <v-btn color="primary" v-bind="attrs" v-on="on">                Add Country              </v-btn>            </template>            <v-card>              <v-card-title>                <span class="text-h5">Details</span>              </v-card-title>              <v-card-text>                <v-text-field v-model="newCountry.name" label="Name"></v-text-field>                <v-text-field label="Code"                              :rules="countryCodeRules"                              v-model="newCountry.code"></v-text-field>                <v-text-field label="VAT"                              :rules="vatRules"                              v-model.number="newCountry.vat"></v-text-field>              </v-card-text>              <v-card-actions>                <v-spacer></v-spacer>                <v-btn color="blue" text @click="close">                  Cancel                </v-btn>                <v-btn color="blue" text @click="save">                  Save                </v-btn>              </v-card-actions>            </v-card>          </v-dialog>        </v-toolbar>      </template>      <template v-slot:item.vat="{ item }">        <span>{{ item.vat * 100 }}%</span>      </template>    </v-data-table>  </div></template><script>import {api_get, api_post} from '../plugins/network';export default {  name: "Countries",  data: function () {    return {      headers: [        {text: 'Code', value: 'code'},        {text: 'Name', value: 'name'},        {text: 'VAT', value: 'vat'}      ],      isLoading: true,      countryCodeRules: [        v => (v && v.length > 0 && v.length <= 2) || "Country code must be two characters",      ],      vatRules: [        v => (v && v >= 0 && v <= 100) || "VAT must be valid number ranging from 0-100",      ],      newCountry: {},      dialog: false,      countries: [],    }  },  created() {    this.load(true);    this.load_data();    this.load(false);  },  methods: {    async load_data() {      this.countries = await api_get('/api/countries');    },    load(state) {      this.isLoading = state;    },    async save() {      this.load(true);      await api_post('/api/countries', {        name: this.newCountry.name,        code: this.newCountry.code,        vat: this.newCountry.vat / 100      });      this.close()      // reset new item      this.newCountry = {};      await this.load_data();      this.load(false);    },    close() {      this.dialog = false;    }  }}</script><style scoped></style>